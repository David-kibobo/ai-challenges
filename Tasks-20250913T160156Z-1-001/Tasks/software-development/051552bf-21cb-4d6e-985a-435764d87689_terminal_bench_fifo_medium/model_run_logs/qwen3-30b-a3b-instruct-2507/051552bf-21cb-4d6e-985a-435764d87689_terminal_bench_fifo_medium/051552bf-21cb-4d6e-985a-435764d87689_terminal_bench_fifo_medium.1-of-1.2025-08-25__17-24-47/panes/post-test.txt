root@682bd127bcae:/app# bash /tests/run-tests.sh; tmux wait -S done
Get:1 http://deb.debian.org/debian trixie InRelease [138 kB]
Get:2 http://deb.debian.org/debian trixie-updates InRelease [47.1 kB]
Get:3 http://deb.debian.org/debian-security trixie-security InRelease [43.4 kB]
Get:4 http://deb.debian.org/debian trixie/main arm64 Packages [9604 kB]
Get:5 http://deb.debian.org/debian trixie-updates/main arm64 Packages [2432 B]
Get:6 http://deb.debian.org/debian-security trixie-security/main arm64 Packages [30.4 kB]
Fetched 9865 kB in 1s (9441 kB/s)
Reading package lists... Done
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  bash-completion krb5-locales libbrotli1 libcom-err2 libcurl4t64 libgnutls30t64 libgssapi-krb5-2 libidn2-0 libk5crypto3 libkeyutils1 libkrb5-3
  libkrb5support0 libldap-common libldap2 libnghttp2-14 libnghttp3-9 libp11-kit0 libpsl5t64 librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db
  libssh2-1t64 libtasn1-6 libunistring5 publicsuffix
Suggested packages:
  gnutls-bin krb5-doc krb5-user libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql
The following NEW packages will be installed:
  bash-completion curl krb5-locales libbrotli1 libcom-err2 libcurl4t64 libgnutls30t64 libgssapi-krb5-2 libidn2-0 libk5crypto3 libkeyutils1 libkrb5-3
  libkrb5support0 libldap-common libldap2 libnghttp2-14 libnghttp3-9 libp11-kit0 libpsl5t64 librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db
  libssh2-1t64 libtasn1-6 libunistring5 publicsuffix
0 upgraded, 27 newly installed, 0 to remove and 0 not upgraded.
Need to get 5457 kB of archives.
After this operation, 19.5 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian trixie/main arm64 bash-completion all 1:2.16.0-7 [319 kB]
Get:2 http://deb.debian.org/debian trixie/main arm64 krb5-locales all 1.21.3-5 [101 kB]
Get:3 http://deb.debian.org/debian trixie/main arm64 libbrotli1 arm64 1.1.0-2+b7 [308 kB]
Get:4 http://deb.debian.org/debian trixie/main arm64 libkrb5support0 arm64 1.21.3-5 [32.4 kB]
Get:5 http://deb.debian.org/debian trixie/main arm64 libcom-err2 arm64 1.47.2-3+b3 [24.9 kB]
Get:6 http://deb.debian.org/debian trixie/main arm64 libk5crypto3 arm64 1.21.3-5 [81.2 kB]
Get:7 http://deb.debian.org/debian trixie/main arm64 libkeyutils1 arm64 1.6.3-6 [9716 B]
Get:8 http://deb.debian.org/debian trixie/main arm64 libkrb5-3 arm64 1.21.3-5 [308 kB]
Get:9 http://deb.debian.org/debian trixie/main arm64 libgssapi-krb5-2 arm64 1.21.3-5 [127 kB]
Get:10 http://deb.debian.org/debian trixie/main arm64 libunistring5 arm64 1.3-2 [453 kB]
Get:11 http://deb.debian.org/debian trixie/main arm64 libidn2-0 arm64 2.3.8-2 [107 kB]
Get:12 http://deb.debian.org/debian trixie/main arm64 libsasl2-modules-db arm64 2.1.28+dfsg1-9 [20.1 kB]
Get:13 http://deb.debian.org/debian trixie/main arm64 libsasl2-2 arm64 2.1.28+dfsg1-9 [55.6 kB]
Get:14 http://deb.debian.org/debian trixie/main arm64 libldap2 arm64 2.6.10+dfsg-1 [179 kB]
Get:15 http://deb.debian.org/debian trixie/main arm64 libnghttp2-14 arm64 1.64.0-1.1 [71.4 kB]
Get:16 http://deb.debian.org/debian trixie/main arm64 libnghttp3-9 arm64 1.8.0-1 [63.2 kB]
Get:17 http://deb.debian.org/debian trixie/main arm64 libpsl5t64 arm64 0.21.2-1.1+b1 [57.1 kB]
Get:18 http://deb.debian.org/debian trixie/main arm64 libp11-kit0 arm64 0.25.5-3 [409 kB]
Get:19 http://deb.debian.org/debian trixie/main arm64 libtasn1-6 arm64 4.20.0-2 [47.3 kB]
Get:20 http://deb.debian.org/debian trixie/main arm64 libgnutls30t64 arm64 3.8.9-3 [1375 kB]
Get:21 http://deb.debian.org/debian trixie/main arm64 librtmp1 arm64 2.4+20151223.gitfa8646d.1-2+b5 [56.8 kB]
Get:22 http://deb.debian.org/debian trixie/main arm64 libssh2-1t64 arm64 1.11.1-1 [235 kB]
Get:23 http://deb.debian.org/debian trixie/main arm64 libcurl4t64 arm64 8.14.1-2 [359 kB]
Get:24 http://deb.debian.org/debian trixie/main arm64 curl arm64 8.14.1-2 [262 kB]
Get:25 http://deb.debian.org/debian trixie/main arm64 libldap-common all 2.6.10+dfsg-1 [35.1 kB]
Get:26 http://deb.debian.org/debian trixie/main arm64 libsasl2-modules arm64 2.1.28+dfsg1-9 [62.9 kB]
Get:27 http://deb.debian.org/debian trixie/main arm64 publicsuffix all 20250328.1952-0.1 [296 kB]
Fetched 5457 kB in 0s (35.5 MB/s)
debconf: unable to initialize frontend: Dialog
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 79, <STDI
N> line 27.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/aarch64-linu
x-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/aarch64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/aarch64-linux-gnu/perl-base /usr/lib/aarch64-linu
x-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8, <STDIN> line 27.)
debconf: falling back to frontend: Teletype
Selecting previously unselected package bash-completion.
(Reading database ... 7798 files and directories currently installed.)
Preparing to unpack .../00-bash-completion_1%3a2.16.0-7_all.deb ...
Unpacking bash-completion (1:2.16.0-7) ...
Selecting previously unselected package krb5-locales.
Preparing to unpack .../01-krb5-locales_1.21.3-5_all.deb ...
Unpacking krb5-locales (1.21.3-5) ...
Selecting previously unselected package libbrotli1:arm64.
Preparing to unpack .../02-libbrotli1_1.1.0-2+b7_arm64.deb ...
Unpacking libbrotli1:arm64 (1.1.0-2+b7) ...
Selecting previously unselected package libkrb5support0:arm64.
Preparing to unpack .../03-libkrb5support0_1.21.3-5_arm64.deb ...
Unpacking libkrb5support0:arm64 (1.21.3-5) ...
Selecting previously unselected package libcom-err2:arm64.
Preparing to unpack .../04-libcom-err2_1.47.2-3+b3_arm64.deb ...
Unpacking libcom-err2:arm64 (1.47.2-3+b3) ...
Selecting previously unselected package libk5crypto3:arm64.
Preparing to unpack .../05-libk5crypto3_1.21.3-5_arm64.deb ...
Unpacking libk5crypto3:arm64 (1.21.3-5) ...
Selecting previously unselected package libkeyutils1:arm64.
Preparing to unpack .../06-libkeyutils1_1.6.3-6_arm64.deb ...
Unpacking libkeyutils1:arm64 (1.6.3-6) ...
Selecting previously unselected package libkrb5-3:arm64.
Preparing to unpack .../07-libkrb5-3_1.21.3-5_arm64.deb ...
Unpacking libkrb5-3:arm64 (1.21.3-5) ...
Selecting previously unselected package libgssapi-krb5-2:arm64.
Preparing to unpack .../08-libgssapi-krb5-2_1.21.3-5_arm64.deb ...
Unpacking libgssapi-krb5-2:arm64 (1.21.3-5) ...
Selecting previously unselected package libunistring5:arm64.
Preparing to unpack .../09-libunistring5_1.3-2_arm64.deb ...
Unpacking libunistring5:arm64 (1.3-2) ...
Selecting previously unselected package libidn2-0:arm64.
Preparing to unpack .../10-libidn2-0_2.3.8-2_arm64.deb ...
Unpacking libidn2-0:arm64 (2.3.8-2) ...
Selecting previously unselected package libsasl2-modules-db:arm64.
Preparing to unpack .../11-libsasl2-modules-db_2.1.28+dfsg1-9_arm64.deb ...
Unpacking libsasl2-modules-db:arm64 (2.1.28+dfsg1-9) ...
Selecting previously unselected package libsasl2-2:arm64.
Preparing to unpack .../12-libsasl2-2_2.1.28+dfsg1-9_arm64.deb ...
Unpacking libsasl2-2:arm64 (2.1.28+dfsg1-9) ...
Selecting previously unselected package libldap2:arm64.
Preparing to unpack .../13-libldap2_2.6.10+dfsg-1_arm64.deb ...
Unpacking libldap2:arm64 (2.6.10+dfsg-1) ...
Selecting previously unselected package libnghttp2-14:arm64.
Preparing to unpack .../14-libnghttp2-14_1.64.0-1.1_arm64.deb ...
Unpacking libnghttp2-14:arm64 (1.64.0-1.1) ...
Selecting previously unselected package libnghttp3-9:arm64.
Preparing to unpack .../15-libnghttp3-9_1.8.0-1_arm64.deb ...
Unpacking libnghttp3-9:arm64 (1.8.0-1) ...
Selecting previously unselected package libpsl5t64:arm64.
Preparing to unpack .../16-libpsl5t64_0.21.2-1.1+b1_arm64.deb ...
Unpacking libpsl5t64:arm64 (0.21.2-1.1+b1) ...
Selecting previously unselected package libp11-kit0:arm64.
Preparing to unpack .../17-libp11-kit0_0.25.5-3_arm64.deb ...
Unpacking libp11-kit0:arm64 (0.25.5-3) ...
Selecting previously unselected package libtasn1-6:arm64.
Preparing to unpack .../18-libtasn1-6_4.20.0-2_arm64.deb ...
Unpacking libtasn1-6:arm64 (4.20.0-2) ...
Selecting previously unselected package libgnutls30t64:arm64.
Preparing to unpack .../19-libgnutls30t64_3.8.9-3_arm64.deb ...
Unpacking libgnutls30t64:arm64 (3.8.9-3) ...
Selecting previously unselected package librtmp1:arm64.
Preparing to unpack .../20-librtmp1_2.4+20151223.gitfa8646d.1-2+b5_arm64.deb ...
Unpacking librtmp1:arm64 (2.4+20151223.gitfa8646d.1-2+b5) ...
Selecting previously unselected package libssh2-1t64:arm64.
Preparing to unpack .../21-libssh2-1t64_1.11.1-1_arm64.deb ...
Unpacking libssh2-1t64:arm64 (1.11.1-1) ...
Selecting previously unselected package libcurl4t64:arm64.
Preparing to unpack .../22-libcurl4t64_8.14.1-2_arm64.deb ...
Unpacking libcurl4t64:arm64 (8.14.1-2) ...
Selecting previously unselected package curl.
Preparing to unpack .../23-curl_8.14.1-2_arm64.deb ...
Unpacking curl (8.14.1-2) ...
Selecting previously unselected package libldap-common.
Preparing to unpack .../24-libldap-common_2.6.10+dfsg-1_all.deb ...
Unpacking libldap-common (2.6.10+dfsg-1) ...
Selecting previously unselected package libsasl2-modules:arm64.
Preparing to unpack .../25-libsasl2-modules_2.1.28+dfsg1-9_arm64.deb ...
Unpacking libsasl2-modules:arm64 (2.1.28+dfsg1-9) ...
Selecting previously unselected package publicsuffix.
Preparing to unpack .../26-publicsuffix_20250328.1952-0.1_all.deb ...
Unpacking publicsuffix (20250328.1952-0.1) ...
Setting up libkeyutils1:arm64 (1.6.3-6) ...
Setting up libbrotli1:arm64 (1.1.0-2+b7) ...
Setting up libsasl2-modules:arm64 (2.1.28+dfsg1-9) ...
Setting up libnghttp2-14:arm64 (1.64.0-1.1) ...
Setting up krb5-locales (1.21.3-5) ...
Setting up libcom-err2:arm64 (1.47.2-3+b3) ...
Setting up libldap-common (2.6.10+dfsg-1) ...
Setting up libkrb5support0:arm64 (1.21.3-5) ...
Setting up libsasl2-modules-db:arm64 (2.1.28+dfsg1-9) ...
Setting up bash-completion (1:2.16.0-7) ...
Setting up libp11-kit0:arm64 (0.25.5-3) ...
Setting up libunistring5:arm64 (1.3-2) ...
Setting up libk5crypto3:arm64 (1.21.3-5) ...
Setting up libsasl2-2:arm64 (2.1.28+dfsg1-9) ...
Setting up libnghttp3-9:arm64 (1.8.0-1) ...
Setting up libtasn1-6:arm64 (4.20.0-2) ...
Setting up libkrb5-3:arm64 (1.21.3-5) ...
Setting up libssh2-1t64:arm64 (1.11.1-1) ...
Setting up publicsuffix (20250328.1952-0.1) ...
Setting up libldap2:arm64 (2.6.10+dfsg-1) ...
Setting up libidn2-0:arm64 (2.3.8-2) ...
Setting up libgssapi-krb5-2:arm64 (1.21.3-5) ...
Setting up libgnutls30t64:arm64 (3.8.9-3) ...
Setting up libpsl5t64:arm64 (0.21.2-1.1+b1) ...
Setting up librtmp1:arm64 (2.4+20151223.gitfa8646d.1-2+b5) ...
Setting up libcurl4t64:arm64 (8.14.1-2) ...
Setting up curl (8.14.1-2) ...
Processing triggers for libc-bin (2.41-12) ...
downloading uv 0.7.13 aarch64-unknown-linux-gnu
no checksums to verify
installing to /root/.local/bin
  uv
  uvx
everything's installed!

To add $HOME/.local/bin to your PATH, either restart your shell or run:

    source $HOME/.local/bin/env (sh, bash, zsh)
    source $HOME/.local/bin/env.fish (fish)
Initialized project `app`
Using CPython 3.11.13 interpreter at: /usr/local/bin/python3.11
Creating virtual environment at: .venv
Resolved 7 packages in 162ms
Prepared 5 packages in 132ms
Installed 5 packages in 13ms
 + iniconfig==2.1.0
 + packaging==25.0
 + pluggy==1.6.0
 + pygments==2.19.2
 + pytest==8.4.1
===================================================================== test session starts ======================================================================
platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0
rootdir: /tests
collected 6 items

../tests/test_outputs.py FFFF.F                                                                                                                          [100%]

=========================================================================== FAILURES ===========================================================================
_______________________________________________________________ test_consumer_fifo_and_awk_only ________________________________________________________________

    def test_consumer_fifo_and_awk_only():
        """Ensure correct usage of FIFO + awk only (no file reads or system())."""
        run_sh = Path("run.sh").read_text()
>       assert "cat pipe/events.fifo | awk -f consumer.awk" in run_sh
E       assert 'cat pipe/events.fifo | awk -f consumer.awk' in '#!/bin/bash\nset -euo pipefail\n\nLOCK_FILE="run.lock"\nPIPE="pipe/events.fifo"\nLOGS_DIR="logs"
\nALERTS="alerts.txt"...r_end_ms: ($c_end | tonumber), producer_end_ms: ($p_end | tonumber)}\' > "$TIMELINE"\n\n# Final success\necho "DONE"\n'

/tests/test_outputs.py:18: AssertionError
____________________________________________________________ test_runtime_volume_rotations_timeline ____________________________________________________________

    def test_runtime_volume_rotations_timeline():
        """Check minimum volume, rotation count, and valid timeline."""
>       sm = json.loads(_read(SUMMARY))
                        ^^^^^^^^^^^^^^

/tests/test_outputs.py:24:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/tests/test_outputs.py:12: in _read
    return p.read_text(encoding="utf-8", errors="ignore")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/pathlib.py:1058: in read_text
    with self.open(mode='r', encoding=encoding, errors=errors) as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = PosixPath('summary.json'), mode = 'r', buffering = -1, encoding = 'utf-8', errors = 'ignore', newline = None

    def open(self, mode='r', buffering=-1, encoding=None,
             errors=None, newline=None):
        """
        Open the file pointed by this path and return a file object, as
        the built-in open() function does.
        """
        if "b" not in mode:
            encoding = io.text_encoding(encoding)
>       return io.open(self, mode, buffering, encoding, errors, newline)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'summary.json'

/usr/local/lib/python3.11/pathlib.py:1044: FileNotFoundError
_____________________________________________________________ test_alerts_truthy_diverse_antispam ______________________________________________________________

    def test_alerts_truthy_diverse_antispam():
        """Check alert truthiness, Unicode users, spam filtering."""
>       lines = [line for line in _read(ALERTS).splitlines() if line.startswith("ALERT ")]
                                  ^^^^^^^^^^^^^

/tests/test_outputs.py:36:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/tests/test_outputs.py:12: in _read
    return p.read_text(encoding="utf-8", errors="ignore")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/pathlib.py:1058: in read_text
    with self.open(mode='r', encoding=encoding, errors=errors) as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = PosixPath('alerts.txt'), mode = 'r', buffering = -1, encoding = 'utf-8', errors = 'ignore', newline = None

    def open(self, mode='r', buffering=-1, encoding=None,
             errors=None, newline=None):
        """
        Open the file pointed by this path and return a file object, as
        the built-in open() function does.
        """
        if "b" not in mode:
            encoding = io.text_encoding(encoding)
>       return io.open(self, mode, buffering, encoding, errors, newline)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'alerts.txt'

/usr/local/lib/python3.11/pathlib.py:1044: FileNotFoundError
_____________________________________________________________ test_run_sh_parallel_and_idempotent ______________________________________________________________

    def test_run_sh_parallel_and_idempotent():
        """Check backgrounding and lock mechanism."""
        rs = _read(Path("run.sh"))
        assert "flock" in rs
>       assert "producer.py" in rs and "&" in rs, "producer must run in background"
E       AssertionError: producer must run in background
E       assert ('producer.py' in '#!/bin/bash\nset -euo pipefail\n\nLOCK_FILE="run.lock"\nPIPE="pipe/events.fifo"\nLOGS_DIR="logs"\nALERTS="alerts.txt"...r_end_
ms: ($c_end | tonumber), producer_end_ms: ($p_end | tonumber)}\' > "$TIMELINE"\n\n# Final success\necho "DONE"\n')

/tests/test_outputs.py:68: AssertionError
____________________________________________________________ test_summary_timeline_and_parallelism _____________________________________________________________

    def test_summary_timeline_and_parallelism():
        """Ensure required summary + timeline keys are present and valid."""
>       sm = json.loads(_read(SUMMARY))
                        ^^^^^^^^^^^^^^

/tests/test_outputs.py:81:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/tests/test_outputs.py:12: in _read
    return p.read_text(encoding="utf-8", errors="ignore")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/pathlib.py:1058: in read_text
    with self.open(mode='r', encoding=encoding, errors=errors) as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = PosixPath('summary.json'), mode = 'r', buffering = -1, encoding = 'utf-8', errors = 'ignore', newline = None

    def open(self, mode='r', buffering=-1, encoding=None,
             errors=None, newline=None):
        """
        Open the file pointed by this path and return a file object, as
        the built-in open() function does.
        """
        if "b" not in mode:
            encoding = io.text_encoding(encoding)
>       return io.open(self, mode, buffering, encoding, errors, newline)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'summary.json'

/usr/local/lib/python3.11/pathlib.py:1044: FileNotFoundError
============================================================================ PASSES ============================================================================
=================================================================== short test summary info ====================================================================
PASSED ../tests/test_outputs.py::test_rotations_and_sizes
FAILED ../tests/test_outputs.py::test_consumer_fifo_and_awk_only - assert 'cat pipe/events.fifo | awk -f consumer.awk' in '#!/bin/bash\nset -euo pipefail\n\nLOC
K_FILE="run.lock"\nPIPE="pipe/events.fifo"\nLOGS_DIR="logs"\nA...
FAILED ../tests/test_outputs.py::test_runtime_volume_rotations_timeline - FileNotFoundError: [Errno 2] No such file or directory: 'summary.json'
FAILED ../tests/test_outputs.py::test_alerts_truthy_diverse_antispam - FileNotFoundError: [Errno 2] No such file or directory: 'alerts.txt'
FAILED ../tests/test_outputs.py::test_run_sh_parallel_and_idempotent - AssertionError: producer must run in background
FAILED ../tests/test_outputs.py::test_summary_timeline_and_parallelism - FileNotFoundError: [Errno 2] No such file or directory: 'summary.json'
================================================================= 5 failed, 1 passed in 0.08s ==================================================================
root@682bd127bcae:/app#
