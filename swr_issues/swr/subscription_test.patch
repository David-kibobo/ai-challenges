diff --git a/test.sh b/test.sh
new file mode 100755
index 0000000..7356ca8
--- /dev/null
+++ b/test.sh
@@ -0,0 +1,49 @@
+#!/usr/bin/env bash
+set -euo pipefail
+
+NEW_TEST_FILE="test/use-swr-subscription-suspense.test.tsx"
+
+# 1. NEW_TEST_FILE: Excluded during 'base' mode.
+# 2. EXCLUDED BASELINE TESTS: Omitted to bypass already failing baseline tests due to environmental instability.
+# 3. e2e/: Excludes the end-to-end directory.
+EXCLUDE_TESTS=(
+  "${NEW_TEST_FILE}"
+  "test/use-swr-focus.test.tsx"
+   "e2e/"
+)
+
+IFS="|"
+IGNORE_PATTERNS="${EXCLUDE_TESTS[*]}"
+
+IFS=$' \t\n'
+
+if [ "$#" -ge 1 ]; then
+  MODE="$1"
+elif [ "${MODE-""}" != "" ]; then
+  MODE="$MODE"
+else
+  MODE=base
+fi
+
+echo " Running SWR tests (mode: ${MODE})"
+echo "---"
+
+if [ "${MODE}" = "base" ]; then
+  echo "Running BASE tests (All original tests, excluding known unstable files)"
+
+
+
+  pnpm test --no-watch \
+    --testPathIgnorePatterns="${IGNORE_PATTERNS}"
+  exit 0
+fi
+
+if [ "${MODE}" = "new" ]; then
+  echo "Running NEW tests"
+
+  pnpm test --verbose "${NEW_TEST_FILE}"
+  exit 0
+fi
+
+echo "Unknown MODE: ${MODE}. Use 'base' (default) or 'new'."
+exit 2
diff --git a/test/use-swr-subscription-suspense.test.tsx b/test/use-swr-subscription-suspense.test.tsx
new file mode 100644
index 0000000..77724a0
--- /dev/null
+++ b/test/use-swr-subscription-suspense.test.tsx
@@ -0,0 +1,136 @@
+import React, { Suspense } from "react";
+import { render, screen, act } from "@testing-library/react";
+import useSWRSubscription from "../src/subscription/index";
+import { SWRConfig } from "../src/index/index";
+
+
+class ErrorBoundary extends React.Component<any, { hasError: boolean }> {
+  constructor(props: any) {
+    super(props);
+    this.state = { hasError: false };
+  }
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+  render() {
+    if (this.state.hasError) return <div data-testid="error">Error Caught</div>;
+    return this.props.children;
+  }
+}
+
+describe("SWR Subscription Robustness", () => {
+
+  it("should NOT leak subscriptions on unmount (Reference Counting Check)", async () => {
+    const dispose = jest.fn();
+    const subscribe = jest.fn((_key, { next }) => {
+      setTimeout(() => next(null, "data"), 10);
+      return dispose;
+    });
+
+    function Component() {
+      useSWRSubscription("leak-test", subscribe as any, { suspense: true });
+      return <div>loaded</div>;
+    }
+
+    const { unmount } = render(
+      <SWRConfig value={{ provider: () => new Map() }}>
+        <Suspense fallback={<div>loading</div>}>
+          <Component />
+        </Suspense>
+      </SWRConfig>
+    );
+
+
+    await screen.findByText("loaded");
+
+
+    unmount();
+
+
+    expect(dispose).toHaveBeenCalledTimes(1);
+  });
+
+  it("should handle Synchronous data without suspending", async () => {
+    const subscribe = jest.fn((_key, { next }) => {
+
+      next(null, "Sync Data");
+      return () => { };
+    });
+
+    function Component() {
+      const { data } = useSWRSubscription("sync-test", subscribe as any, { suspense: true });
+      return <div data-testid="content">{data as string}</div>;
+    }
+
+    render(
+      <SWRConfig value={{ provider: () => new Map() }}>
+        <Suspense fallback={<div data-testid="loading">Loading...</div>}>
+          <Component />
+        </Suspense>
+      </SWRConfig>
+    );
+
+
+    expect(screen.queryByTestId("loading")).toBeNull();
+    expect(screen.getByTestId("content").textContent).toBe("Sync Data");
+  });
+
+  it("should bubble errors to ErrorBoundary", async () => {
+    const subscribe = jest.fn((_key, { next }) => {
+      setTimeout(() => next(new Error("Boom"), null), 10);
+      return () => { };
+    });
+
+    function Component() {
+      useSWRSubscription("error-test", subscribe as any, { suspense: true });
+      return <div>Should not render</div>;
+    }
+
+    render(
+      <SWRConfig value={{ provider: () => new Map() }}>
+        <ErrorBoundary>
+          <Suspense fallback={<div>loading</div>}>
+            <Component />
+          </Suspense>
+        </ErrorBoundary>
+      </SWRConfig>
+    );
+
+    expect(await screen.findByTestId("error")).toHaveTextContent("Error Caught");
+  });
+
+  it("should not crash if data arrives after unmount", async () => {
+    let globalNext: any;
+    const subscribe = jest.fn((_key, { next }) => {
+      globalNext = next;
+
+      next(null, "Initial");
+      return () => { };
+    });
+
+    function Component() {
+      useSWRSubscription("race-condition-test", subscribe as any, { suspense: true });
+      return <div>loaded</div>;
+    }
+
+    const { unmount } = render(
+      <SWRConfig value={{ provider: () => new Map() }}>
+        <Suspense fallback={<div>loading</div>}>
+          <Component />
+        </Suspense>
+      </SWRConfig>
+    );
+
+    await screen.findByText("loaded");
+
+
+    unmount();
+
+
+    await act(async () => {
+      globalNext(null, "Late Data");
+    });
+
+
+  });
+});
